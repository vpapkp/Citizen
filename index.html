<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced U.S. Civics Flashcards (Texas)</title>
    <style>
        :root {
            --flagged-color: #ffc107; /* Orange */
            --correct-color: #28a745; /* Green */
            --incorrect-color: #dc3545; /* Red */
            --default-border: transparent;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            color: #333;
            padding: 10px 0;
        }
        .container {
            width: 90%;
            max-width: 600px;
            text-align: center;
        }
        .card-container {
            perspective: 1000px;
            margin-bottom: 15px;
        }
        .card {
            width: 100%;
            height: 400px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-radius: 15px;
            border-left: 5px solid var(--default-border);
        }
        .card.is-flagged { border-left-color: var(--flagged-color); }
        .card.is-correct { border-left-color: var(--correct-color); }
        .card.is-incorrect { border-left-color: var(--incorrect-color); }
        
        .card.is-flipped {
            transform: rotateY(180deg);
        }
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            border-radius: 15px;
            background-color: #ffffff;
        }
        .card-face-front .top-controls {
            position: absolute;
            top: 15px;
            right: 15px;
        }
        #flag-button {
            background: #f0f2f5;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 1em;
        }
        #flag-button.active {
            background-color: var(--flagged-color);
            color: white;
            border-color: var(--flagged-color);
        }
        .card-face-back {
            transform: rotateY(180deg);
            background-color: #f8f9fa;
        }
        .card-face-back .bottom-controls {
            position: absolute;
            bottom: 20px;
            width: 100%;
            display: flex;
            justify-content: space-around;
        }
        .status-button {
            width: 120px;
            padding: 10px;
            font-size: 1em;
            border: none;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }
        .correct-button { background-color: var(--correct-color); }
        .incorrect-button { background-color: var(--incorrect-color); }
        .question-title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .answer-title {
            font-size: 1.5em;
            font-weight: bold;
            color: #007bff;
        }
        .content {
            font-size: 1.2em;
            line-height: 1.6;
        }
        .answer-content ul { list-style-type: none; padding: 0; margin: 0; }
        .answer-content li { margin-bottom: 10px; }
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .nav-button {
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
            border: none;
            background-color: #007bff;
            color: white;
            border-radius: 5px;
        }
        #question-select {
            padding: 10px;
            font-size: 1em;
            border-radius: 5px;
            border: 1px solid #ced4da;
            flex-grow: 1; margin: 0 10px;
        }
        .summary-section {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-top: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: left;
            display: none; /* Initially hidden */
        }
        .summary-section h2 { margin-top: 0; }
        .summary-list {
            list-style: none;
            padding: 0;
            max-height: 150px;
            overflow-y: auto;
        }
        .summary-list li {
            padding: 8px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
        }
        .summary-list li:hover { background-color: #f0f2f5; }
        .bottom-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        .bottom-actions button {
            flex-grow: 1;
        }
        .note { font-style: italic; font-size: 0.9em; color: #6c757d; }
    </style>
</head>
<body>

<div class="container">
    <h1>Advanced Civics Flashcards (Texas)</h1>
    <div class="card-container">
        <div class="card" id="card">
            <div class="card-face card-face-front">
                <div class="top-controls">
                    <button id="flag-button">üö© Flag</button>
                </div>
                <div class="question-title" id="question-title"></div>
                <div class="content" id="question-text"></div>
            </div>
            <div class="card-face card-face-back">
                <div class="answer-title">Answer</div>
                <div class="content answer-content" id="answer-text"></div>
                <div class="bottom-controls">
                    <button class="status-button incorrect-button" data-status="incorrect">Incorrect</button>
                    <button class="status-button correct-button" data-status="correct">Correct</button>
                </div>
            </div>
        </div>
    </div>
    <div class="navigation">
        <button class="nav-button" id="prev-button">Previous</button>
        <select id="question-select"></select>
        <button class="nav-button" id="next-button">Next</button>
    </div>
    <div class="bottom-actions">
        <button class="nav-button" id="review-button" style="background-color: #ffc107; color: black;">Review Flagged</button>
        <button class="nav-button" id="summary-toggle-button" style="background-color: #6c757d;">Show Summary</button>
    </div>
    <div class="summary-section" id="summary-section">
        <h2>Review Summary</h2>
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
            <p style="margin: 0;">Cards you need to review.</p>
            <button id="reset-button" style="background-color: #6c757d; color: white; border: none; padding: 5px 10px; border-radius: 5px;">Reset All</button>
        </div>
        <h4>üö© Flagged for Review</h4>
        <ul class="summary-list" id="flagged-list"><li>None</li></ul>
        <h4>‚ùå Marked Incorrect</h4>
        <ul class="summary-list" id="incorrect-list"><li>None</li></ul>
    </div>
</div>

<script>
    const flashcards = [
        { q: "What is the supreme law of the land?", a: ["the Constitution"] },
        { q: "What does the Constitution do?", a: ["sets up the government", "defines the government", "protects basic rights of Americans"] },
        { q: "The idea of self-government is in the first three words of the Constitution. What are these words?", a: ["We the People"] },
        { q: "What is an amendment?", a: ["a change (to the Constitution)", "an addition (to the Constitution)"] },
        { q: "What do we call the first ten amendments to the Constitution?", a: ["the Bill of Rights"] },
        { q: "What is one right or freedom from the First Amendment?*", a: ["speech", "religion", "assembly", "press", "petition the government"] },
        { q: "How many amendments does the Constitution have?", a: ["twenty-seven (27)"] },
        { q: "What did the Declaration of Independence do?", a: ["announced our independence (from Great Britain)"] },
        { q: "What are two rights in the Declaration of Independence?", a: ["life", "liberty", "pursuit of happiness"] },
        { q: "What is freedom of religion?", a: ["You can practice any religion, or not practice a religion."] },
        { q: "What is the economic system in the United States?*", a: ["capitalist economy", "market economy"] },
        { q: "What is the 'rule of law'?", a: ["Everyone must follow the law.", "No one is above the law."] },
        { q: "Name one branch or part of the government.*", a: ["Congress", "President (executive)", "the courts (judicial)"] },
        { q: "What stops one branch of government from becoming too powerful?", a: ["checks and balances", "separation of powers"] },
        { q: "Who is in charge of the executive branch?", a: ["the President"] },
        { q: "Who makes federal laws?", a: ["Congress", "Senate and House of Representatives"] },
        { q: "What are the two parts of the U.S. Congress?*", a: ["the Senate and House (of Representatives)"] },
        { q: "How many U.S. Senators are there?", a: ["one hundred (100)"] },
        { q: "We elect a U.S. Senator for how many years?", a: ["six (6)"] },
        { q: "Who is one of your state's U.S. Senators now?*", a: ["John Cornyn", "Ted Cruz"] },
        { q: "The House of Representatives has how many voting members?", a: ["four hundred thirty-five (435)"] },
        { q: "We elect a U.S. Representative for how many years?", a: ["two (2)"] },
        { q: "Name your U.S. Representative.", a: ["Based on the ZIP codes provided:", "<p class='note'>For ZIP code 75034: <b>Michael C. Burgess</b></p>", "<p class='note'>For ZIP code 75035: <b>Pat Fallon</b></p>"] },
        { q: "Who does a U.S. Senator represent?", a: ["all people of the state"] },
        { q: "Why do some states have more Representatives than other states?", a: ["(because of) the state's population"] },
        { q: "We elect a President for how many years?", a: ["four (4)"] },
        { q: "In what month do we vote for President?*", a: ["November"] },
        { q: "What is the name of the President of the United States now?*", a: ["Donald Trump"] },
        { q: "What is the name of the Vice President of the United States now?", a: ["J. D. Vance"] },
        { q: "If the President can no longer serve, who becomes President?", a: ["the Vice President"] },
        { q: "If both the President and the Vice President can no longer serve, who becomes President?", a: ["the Speaker of the House"] },
        { q: "Who is the Commander in Chief of the military?", a: ["the President"] },
        { q: "Who signs bills to become laws?", a: ["the President"] },
        { q: "Who vetoes bills?", a: ["the President"] },
        { q: "What does the President's Cabinet do?", a: ["advises the President"] },
        { q: "What are two Cabinet-level positions?", a: ["Secretary of Defense", "Secretary of Education", "Secretary of State", "Attorney General", "Vice President"] },
        { q: "What does the judicial branch do?", a: ["reviews laws", "explains laws", "resolves disputes", "decides if a law goes against the Constitution"] },
        { q: "What is the highest court in the United States?", a: ["the Supreme Court"] },
        { q: "How many justices are on the Supreme Court?", a: ["Nine (9)"] },
        { q: "Who is the Chief Justice of the United States now?", a: ["John G. Roberts, Jr."] },
        { q: "Under our Constitution, some powers belong to the federal government. What is one power of the federal government?", a: ["to print money", "to declare war", "to create an army", "to make treaties"] },
        { q: "Under our Constitution, some powers belong to the states. What is one power of the states?", a: ["provide schooling and education", "provide protection (police)", "give a driver's license"] },
        { q: "Who is the Governor of your state now?", a: ["Greg Abbott"] },
        { q: "What is the capital of your state?*", a: ["Austin"] },
        { q: "What are the two major political parties in the United States?*", a: ["Democratic and Republican"] },
        { q: "What is the political party of the President now?", a: ["Republican Party"] },
        { q: "What is the name of the Speaker of the House of Representatives now?", a: ["Mike Johnson"] },
        { q: "There are four amendments to the Constitution about who can vote. Describe one of them.", a: ["Citizens eighteen (18) and older can vote.", "You don't have to pay a poll tax to vote.", "Any citizen can vote.", "A male citizen of any race can vote."] },
        { q: "What is one responsibility that is only for United States citizens?*", a: ["serve on a jury", "vote in a federal election"] },
        { q: "Name one right only for United States citizens.", a: ["vote in a federal election", "run for federal office"] },
        { q: "What are two rights of everyone living in the United States?", a: ["freedom of expression", "freedom of speech", "freedom of assembly", "freedom of religion", "the right to bear arms"] },
        { q: "What do we show loyalty to when we say the Pledge of Allegiance?", a: ["the United States", "the flag"] },
        { q: "What is one promise you make when you become a United States citizen?", a: ["give up loyalty to other countries", "defend the Constitution and laws", "obey the laws of the United States", "serve in the U.S. military (if needed)"] },
        { q: "How old do citizens have to be to vote for President?*", a: ["eighteen (18) and older"] },
        { q: "What are two ways that Americans can participate in their democracy?", a: ["vote", "join a political party", "help with a campaign", "run for office"] },
        { q: "When is the last day you can send in federal income tax forms?*", a: ["April 15"] },
        { q: "When must all men register for the Selective Service?", a: ["at age eighteen (18)", "between eighteen (18) and twenty-six (26)"] },
        { q: "What is one reason colonists came to America?", a: ["freedom", "political liberty", "religious freedom", "economic opportunity", "escape persecution"] },
        { q: "Who lived in America before the Europeans arrived?", a: ["American Indians", "Native Americans"] },
        { q: "What group of people was taken to America and sold as slaves?", a: ["Africans", "people from Africa"] },
        { q: "Why did the colonists fight the British?", a: ["because of high taxes (taxation without representation)", "because they didn't have self-government"] },
        { q: "Who wrote the Declaration of Independence?", a: ["(Thomas) Jefferson"] },
        { q: "When was the Declaration of Independence adopted?", a: ["July 4, 1776"] },
        { q: "There were 13 original states. Name three.", a: ["New Hampshire", "Massachusetts", "New York", "Virginia", "Maryland"] },
        { q: "What happened at the Constitutional Convention?", a: ["The Constitution was written."] },
        { q: "When was the Constitution written?", a: ["1787"] },
        { q: "The Federalist Papers supported the passage of the U.S. Constitution. Name one of the writers.", a: ["(James) Madison", "(Alexander) Hamilton", "(John) Jay"] },
        { q: "What is one thing Benjamin Franklin is famous for?", a: ["U.S. diplomat", "oldest member of the Constitutional Convention", "first Postmaster General", "writer of 'Poor Richard's Almanac'"] },
        { q: "Who is the 'Father of Our Country'?", a: ["(George) Washington"] },
        { q: "Who was the first President?*", a: ["(George) Washington"] },
        { q: "What territory did the United States buy from France in 1803?", a: ["the Louisiana Territory"] },
        { q: "Name one war fought by the United States in the 1800s.", a: ["War of 1812", "Mexican-American War", "Civil War", "Spanish-American War"] },
        { q: "Name the U.S. war between the North and the South.", a: ["the Civil War", "the War between the States"] },
        { q: "Name one problem that led to the Civil War.", a: ["slavery", "economic reasons", "states' rights"] },
        { q: "What was one important thing that Abraham Lincoln did?*", a: ["freed the slaves (Emancipation Proclamation)", "saved (or preserved) the Union", "led the United States during the Civil War"] },
        { q: "What did the Emancipation Proclamation do?", a: ["freed the slaves"] },
        { q: "What did Susan B. Anthony do?", a: ["fought for women's rights", "fought for civil rights"] },
        { q: "Name one war fought by the United States in the 1900s.*", a: ["World War I", "World War II", "Korean War", "Vietnam War", "(Persian) Gulf War"] },
        { q: "Who was President during World War I?", a: ["(Woodrow) Wilson"] },
        { q: "Who was President during the Great Depression and World War II?", a: ["(Franklin) Roosevelt"] },
        { q: "Who did the United States fight in World War II?", a: ["Japan, Germany, and Italy"] },
        { q: "Before he was President, Eisenhower was a general. What war was he in?", a: ["World War II"] },
        { q: "During the Cold War, what was the main concern of the United States?", a: ["Communism"] },
        { q: "What movement tried to end racial discrimination?", a: ["civil rights (movement)"] },
        { q: "What did Martin Luther King, Jr. do?*", a: ["fought for civil rights", "worked for equality for all Americans"] },
        { q: "What major event happened on September 11, 2001, in the United States?", a: ["Terrorists attacked the United States."] },
        { q: "Name one American Indian tribe in the United States.", a: ["Cherokee", "Navajo", "Sioux", "Chippewa", "Choctaw", "Pueblo", "Apache"] },
        { q: "Name one of the two longest rivers in the United States.", a: ["Missouri (River)", "Mississippi (River)"] },
        { q: "What ocean is on the West Coast of the United States?", a: ["Pacific (Ocean)"] },
        { q: "What ocean is on the East Coast of the United States?", a: ["Atlantic (Ocean)"] },
        { q: "Name one U.S. territory.", a: ["Puerto Rico", "U.S. Virgin Islands", "Guam"] },
        { q: "Name one state that borders Canada.", a: ["Maine", "New York", "Washington", "Alaska"] },
        { q: "Name one state that borders Mexico.", a: ["California", "Arizona", "New Mexico", "Texas"] },
        { q: "What is the capital of the United States?*", a: ["Washington, D.C."] },
        { q: "Where is the Statue of Liberty?*", a: ["New York (Harbor)", "Liberty Island"] },
        { q: "Why does the flag have 13 stripes?", a: ["because there were 13 original colonies"] },
        { q: "Why does the flag have 50 stars?*", a: ["because there is one star for each state"] },
        { q: "What is the name of the national anthem?", a: ["The Star-Spangled Banner"] },
        { q: "When do we celebrate Independence Day?*", a: ["July 4"] },
        { q: "Name two national U.S. holidays.", a: ["New Year's Day", "Martin Luther King, Jr. Day", "Presidents' Day", "Memorial Day", "Independence Day", "Labor Day", "Thanksgiving", "Christmas"] },
    ];

    document.addEventListener('DOMContentLoaded', () => {
        let currentCard = 0;
        let reviewMode = false;
        let flaggedIndices = [];
        let currentReviewIndex = 0;

        flashcards.forEach(card => {
            card.isFlagged = false;
            card.status = 'unanswered';
        });

        const cardElement = document.getElementById('card');
        const questionTitle = document.getElementById('question-title');
        const questionText = document.getElementById('question-text');
        const answerText = document.getElementById('answer-text');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        const questionSelect = document.getElementById('question-select');
        const flagButton = document.getElementById('flag-button');
        const correctButton = document.querySelector('.correct-button');
        const incorrectButton = document.querySelector('.incorrect-button');
        const summaryToggleButton = document.getElementById('summary-toggle-button');
        const summarySection = document.getElementById('summary-section');
        const flaggedList = document.getElementById('flagged-list');
        const incorrectList = document.getElementById('incorrect-list');
        const resetButton = document.getElementById('reset-button');
        const reviewButton = document.getElementById('review-button');

        function updateCardUI(index) {
            const card = flashcards[index];
            cardElement.className = 'card';
            if (cardElement.classList.contains('is-flipped')) cardElement.classList.add('is-flipped');
            if (card.isFlagged) cardElement.classList.add('is-flagged');
            if (card.status === 'correct') cardElement.classList.add('is-correct');
            else if (card.status === 'incorrect') cardElement.classList.add('is-incorrect');
            flagButton.classList.toggle('active', card.isFlagged);
        }

        function showCard(index) {
            cardElement.classList.remove('is-flipped');
            const question = flashcards[index];
            questionTitle.textContent = `Question ${index + 1}`;
            questionText.innerHTML = question.q; // Use innerHTML for potential formatting
            let answerHtml = '<ul>';
            question.a.forEach(ans => { answerHtml += `<li>${ans}</li>`; });
            answerHtml += '</ul>';
            answerText.innerHTML = answerHtml;
            questionSelect.value = index;
            updateCardUI(index);
        }

        function populateSelect() {
            questionSelect.innerHTML = '';
            flashcards.forEach((_, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = `Question ${index + 1}`;
                questionSelect.appendChild(option);
            });
        }

        function renderSummary() {
            flaggedList.innerHTML = '';
            incorrectList.innerHTML = '';
            let flaggedCount = 0;
            let incorrectCount = 0;
            flashcards.forEach((card, index) => {
                const li = document.createElement('li');
                li.innerHTML = `Q${index + 1}: ${card.q.substring(0, 40)}...`;
                const jumpToCard = () => {
                    currentCard = index;
                    showCard(currentCard);
                    summarySection.style.display = 'none';
                    summaryToggleButton.textContent = 'Show Summary';
                };

                if (card.isFlagged) {
                    const flaggedLi = li.cloneNode(true);
                    flaggedLi.onclick = jumpToCard;
                    flaggedList.appendChild(flaggedLi);
                    flaggedCount++;
                }
                if (card.status === 'incorrect') {
                    const incorrectLi = li.cloneNode(true);
                    incorrectLi.onclick = jumpToCard;
                    incorrectList.appendChild(incorrectLi);
                    incorrectCount++;
                }
            });
            if (flaggedCount === 0) flaggedList.innerHTML = '<li>None</li>';
            if (incorrectCount === 0) incorrectList.innerHTML = '<li>None</li>';
        }

        function setCardStatus(status) {
            flashcards[currentCard].status = status;
            updateCardUI(currentCard);
            setTimeout(() => { nextButton.click(); }, 300);
        }
        
        function toggleReviewMode() {
            reviewMode = !reviewMode;
            if (reviewMode) {
                flaggedIndices = flashcards.map((card, index) => card.isFlagged ? index : -1).filter(index => index !== -1);
                if (flaggedIndices.length === 0) {
                    alert("No cards have been flagged for review.");
                    reviewMode = false;
                    return;
                }
                reviewButton.textContent = 'Exit Review';
                reviewButton.style.backgroundColor = '#dc3545';
                questionSelect.disabled = true;
                currentReviewIndex = 0;
                currentCard = flaggedIndices[currentReviewIndex];
                showCard(currentCard);
            } else {
                reviewButton.textContent = 'Review Flagged';
                reviewButton.style.backgroundColor = '#ffc107';
                questionSelect.disabled = false;
            }
        }

        cardElement.addEventListener('click', (e) => {
            if (!e.target.closest('.top-controls') && !e.target.closest('.bottom-controls')) {
                cardElement.classList.toggle('is-flipped');
            }
        });

        prevButton.addEventListener('click', () => {
            if (reviewMode) {
                if (flaggedIndices.length === 0) return;
                currentReviewIndex = (currentReviewIndex - 1 + flaggedIndices.length) % flaggedIndices.length;
                currentCard = flaggedIndices[currentReviewIndex];
            } else {
                currentCard = (currentCard - 1 + flashcards.length) % flashcards.length;
            }
            showCard(currentCard);
        });

        nextButton.addEventListener('click', () => {
            if (reviewMode) {
                if (flaggedIndices.length === 0) return;
                currentReviewIndex = (currentReviewIndex + 1) % flaggedIndices.length;
                currentCard = flaggedIndices[currentReviewIndex];
            } else {
                currentCard = (currentCard + 1) % flashcards.length;
            }
            showCard(currentCard);
        });

        questionSelect.addEventListener('change', (e) => {
            currentCard = parseInt(e.target.value);
            showCard(currentCard);
        });

        flagButton.addEventListener('click', (e) => {
            e.stopPropagation();
            flashcards[currentCard].isFlagged = !flashcards[currentCard].isFlagged;
            updateCardUI(currentCard);
        });

        correctButton.addEventListener('click', (e) => { e.stopPropagation(); setCardStatus('correct'); });
        incorrectButton.addEventListener('click', (e) => { e.stopPropagation(); setCardStatus('incorrect'); });
        
        reviewButton.addEventListener('click', toggleReviewMode);

        summaryToggleButton.addEventListener('click', () => {
            const isHidden = summarySection.style.display === 'none';
            if (isHidden) {
                renderSummary();
                summarySection.style.display = 'block';
                summaryToggleButton.textContent = 'Hide Summary';
            } else {
                summarySection.style.display = 'none';
                summaryToggleButton.textContent = 'Show Summary';
            }
        });

        resetButton.addEventListener('click', () => {
            if (confirm('Are you sure you want to reset all flags and answers?')) {
                flashcards.forEach(card => {
                    card.isFlagged = false;
                    card.status = 'unanswered';
                });
                if(reviewMode) toggleReviewMode(); // Exit review mode if active
                showCard(currentCard);
                renderSummary();
            }
        });

        populateSelect();
        showCard(currentCard);
        summarySection.style.display = 'none';
    });
</script>
</body>
</html>